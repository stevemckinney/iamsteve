@import '../css/primitives.css';
@import '../css/theme.css';
@import '../css/utilities.css';
@import '../css/typography.css';
@import '../css/prism.css' layer(base);

@layer base {
  :focus {
    outline: none;
  }

  :not(input):focus-visible {
    outline: 1px solid
      light-dark(
        color-mix(in oklch, currentcolor, transparent 20%),
        var(--color-cornflour-700)
      );
    outline-offset: 1px;
  }

  :not(input):not([role='menu']):focus-visible {
    border-radius: 4px;
  }
}

@media (max-width: 1023px) {
  html[data-toc-open='true'] body {
    overflow: hidden;
  }
}

@media (min-width: 1024px) {
  article aside li,
  article aside button,
  article aside a,
  article aside > section > :not(section) {
    animation: toc-blur-scroll linear both;
    animation-timeline: view();
  }

  @keyframes toc-blur-scroll {
    0% {
      filter: blur(0);
      opacity: 1;
    }
    92.5% {
      filter: blur(0);
      opacity: 1;
    }
    100% {
      filter: blur(12px);
      opacity: 0;
    }
  }
}
